{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cedri\\\\lacapsule\\\\project\\\\morningnews\\\\part5\\\\reactapp\\\\src\\\\ScreenArticlesBySource.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { Card, Icon, Modal } from 'antd';\nimport Nav from './Nav';\nimport { connect } from 'react-redux';\nconst {\n  Meta\n} = Card;\n\nfunction ScreenArticlesBySource(props) {\n  const [articleList, setArticleList] = useState([]);\n  const [visible, setVisible] = useState(false);\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n\n  var addToWishList = async article => {\n    props.addToWishList(article);\n    await fetch('/myArticles', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `title=${article.title}&img=${article.urlToImage}&description=${article.description}&token3=${props.token}`\n    });\n  };\n\n  var addToWishList = async article => {\n    props.addToWishList(article);\n    await fetch('/myArticles', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `title=${article.title}&img=${article.urlToImage}&description=${article.description}&token3=${props.token}`\n    });\n  };\n\n  useEffect(() => {\n    const findArticles = async () => {\n      const data = await fetch(`https://newsapi.org/v2/top-headlines?sources=${props.match.params.id}&apiKey=262b1d41934e4229b9dd3e4999a0bfd8`);\n      const body = await data.json();\n      console.log(body);\n      setArticleList(body.articles);\n    };\n\n    findArticles();\n  }, []);\n\n  var showModal = (title, content) => {\n    setVisible(true);\n    setTitle(title);\n    setContent(content);\n  };\n\n  var handleOk = e => {\n    console.log(e);\n    setVisible(false);\n  };\n\n  var handleCancel = e => {\n    console.log(e);\n    setVisible(false);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"Banner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"Card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, articleList.map((article, i) => React.createElement(\"div\", {\n    key: i,\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(Card, {\n    style: {\n      width: 300,\n      margin: '15px',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between'\n    },\n    cover: React.createElement(\"img\", {\n      alt: \"example\",\n      src: article.urlToImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }),\n    actions: [React.createElement(Icon, {\n      type: \"read\",\n      key: \"ellipsis2\",\n      onClick: () => showModal(article.title, article.content),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(Icon, {\n      type: \"like\",\n      key: \"ellipsis\",\n      onClick: () => {\n        addToWishList(article);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(Meta, {\n    title: article.title,\n    description: article.description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  })), React.createElement(Modal, {\n    title: title,\n    visible: visible,\n    onOk: handleOk,\n    onCancel: handleCancel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, title))))));\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addToWishList: function (article) {\n      dispatch({\n        type: 'addArticle',\n        articleLiked: article\n      });\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    token: state.token\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ScreenArticlesBySource);","map":{"version":3,"sources":["C:/Users/cedri/lacapsule/project/morningnews/part5/reactapp/src/ScreenArticlesBySource.js"],"names":["React","useState","useEffect","Card","Icon","Modal","Nav","connect","Meta","ScreenArticlesBySource","props","articleList","setArticleList","visible","setVisible","title","setTitle","content","setContent","addToWishList","article","fetch","method","headers","body","urlToImage","description","token","findArticles","data","match","params","id","json","console","log","articles","showModal","handleOk","e","handleCancel","map","i","display","justifyContent","width","margin","flexDirection","mapDispatchToProps","dispatch","type","articleLiked","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport './App.css';\r\nimport { Card, Icon, Modal} from 'antd';\r\nimport Nav from './Nav'\r\nimport {connect} from 'react-redux'\r\n\r\nconst { Meta } = Card;\r\n\r\nfunction ScreenArticlesBySource(props) {\r\n\r\n  const [articleList, setArticleList] = useState([])\r\n\r\n  const [visible, setVisible] = useState(false)\r\n  const [title, setTitle] = useState('')\r\n  const [content, setContent] = useState('')\r\n\r\n   var addToWishList = async(article) =>{\r\n    props.addToWishList(article)\r\n    await fetch('/myArticles', {\r\n    method: 'POST',\r\n    headers: {'Content-Type':'application/x-www-form-urlencoded'},\r\n    body: `title=${article.title}&img=${article.urlToImage}&description=${article.description}&token3=${props.token}`\r\n    });\r\n  }\r\n\r\n  var addToWishList = async(article) =>{\r\n    props.addToWishList(article)\r\n    await fetch('/myArticles', {\r\n    method: 'POST',\r\n    headers: {'Content-Type':'application/x-www-form-urlencoded'},\r\n    body: `title=${article.title}&img=${article.urlToImage}&description=${article.description}&token3=${props.token}`\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const findArticles = async() => {\r\n      const data = await fetch(`https://newsapi.org/v2/top-headlines?sources=${props.match.params.id}&apiKey=262b1d41934e4229b9dd3e4999a0bfd8`)\r\n      const body = await data.json()\r\n      console.log(body)\r\n      setArticleList(body.articles) \r\n    }\r\n\r\n    findArticles()    \r\n  },[])\r\n\r\n  var showModal = (title, content) => {\r\n    setVisible(true)\r\n    setTitle(title)\r\n    setContent(content)\r\n\r\n  }\r\n\r\n  var handleOk = e => {\r\n    console.log(e)\r\n    setVisible(false)\r\n  }\r\n\r\n  var handleCancel = e => {\r\n    console.log(e)\r\n    setVisible(false)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n         \r\n            <Nav/>\r\n\r\n            <div className=\"Banner\"/>\r\n\r\n            <div className=\"Card\">\r\n              {articleList.map((article,i) => (\r\n                <div key={i} style={{display:'flex',justifyContent:'center'}}>\r\n\r\n                <Card\r\n                  \r\n                  style={{ \r\n                  width: 300, \r\n                  margin:'15px', \r\n                  display:'flex',\r\n                  flexDirection: 'column',\r\n                  justifyContent:'space-between' }}\r\n                  cover={\r\n                  <img\r\n                      alt=\"example\"\r\n                      src={article.urlToImage}\r\n                  />\r\n                  }\r\n                  actions={[\r\n                      <Icon type=\"read\" key=\"ellipsis2\" onClick={() => showModal(article.title,article.content)} />,\r\n                      <Icon type=\"like\" key=\"ellipsis\" onClick={()=> {addToWishList(article)}} />\r\n                  ]}\r\n                  >\r\n\r\n                  <Meta\r\n                    title={article.title}\r\n                    description={article.description}\r\n                  />\r\n\r\n                </Card>\r\n                <Modal\r\n                  title={title}\r\n                  visible={visible}\r\n                  onOk={handleOk}\r\n                  onCancel={handleCancel}\r\n                >\r\n                  <p>{title}</p>\r\n                </Modal>\r\n\r\n              </div>\r\n\r\n              ))}\r\n              \r\n\r\n\r\n            \r\n\r\n           </div> \r\n\r\n         \r\n      \r\n      </div>\r\n  );\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch){\r\n  return {\r\n    addToWishList: function(article){\r\n      dispatch({type: 'addArticle',\r\n        articleLiked: article\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {token: state.token}\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ScreenArticlesBySource)\r\n"]},"metadata":{},"sourceType":"module"}